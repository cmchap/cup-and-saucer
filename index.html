<!DOCTYPE HTML>
<HTML>
 <HEAD>
  <TITLE> Merry Chistmas, Melanie! </TITLE>
 </HEAD>

 <BODY>
	<div style="margin:auto; position:absolute; font-size: 9pt; color: #777777;">
		<canvas id="cv" style="border: 1px solid;" width="100%" height="100%" ></canvas>
	</div>
	<script type="text/javascript" src="jsc3d.js"></script>
	<script type="text/javascript" src="jsc3d.webgl.js"></script>
	<script type="text/javascript" src="jsc3d.touch.js"></script>
	<script type="text/javascript">

	(function() {
	        var canvassizer = document.getElementById('cv'),
	                context = canvassizer.getContext('2d');

	        // resize the canvas to fill browser window dynamically
	        window.addEventListener('resize', resizeCanvas, false);
	        
	        function resizeCanvas() {
	                canvassizer.width = window.innerWidth;
	                canvassizer.height = window.innerHeight;
	                
	                /**
	                 * Your drawings need to be inside this function otherwise they will be reset when 
	                 * you resize the browser window and the canvas goes will be cleared.
	                 */
	                drawStuff(); 
	        }
	        resizeCanvas();
	        
	        function drawStuff() {
            	var canvas = document.getElementById('cv');
				var viewer = new JSC3D.Viewer(canvas);
				viewer.setParameter('SceneUrl', 'melanies_cup_and_saucer.obj');
				viewer.setParameter('InitRotationX', -80);
				viewer.setParameter('InitRotationY', -20);
				viewer.setParameter('InitRotationZ', 0);
				viewer.setParameter('ModelColor', '#FFFFFF');
				viewer.setParameter('BackgroundColor1', '#57524C');
				viewer.setParameter('BackgroundColor2', '#57524C');
				viewer.setParameter('BackgroundImageUrl', 'hightea.jpg');
				viewer.setParameter('RenderMode', 'smooth');
				viewer.setParameter('MipMapping', 'on');
				viewer.setParameter('Renderer', 'webgl');
				viewer.setParameter('CreaseAngle', '45');
				viewer.init();
				viewer.update();

				var timerID = 0;
				// setup event handlers to detect interactions
				viewer.onmousedown = viewer.onmouseup = function() {
				  // stop animation if any
				  if(timerID > 0) {
				    clearInterval(timerID);
				    timerID = 0;
				  }
				};
				// start to rotate model horizontally at increment of 3 degrees per 60 millisecs
				timerID = setInterval(function(){viewer.rotate(0, -3, 0); viewer.update();}, 60);
			}
	})();


  </script>
 </BODY>
</HTML>
